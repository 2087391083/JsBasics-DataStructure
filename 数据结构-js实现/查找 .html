<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>查找</title>
</head>

<body>
    <script>
        class SortList {
            constructor() {
                this.arr = [];
            }
            insert(data) {
                this.arr.push(data);
            }
            linearSearch(ele) {
                for (let i = 0; i < this.arr.length; i++) {
                    if (ele == this.arr[i]) {
                        return i;
                    }
                }
                return -1;
            }
            quickSort() {
                this.arr = this.quick(this.arr);
            }
            quick(newArr) {
                if (newArr.length <= 1) {
                    return newArr;
                }
                let left = [];
                let right = [];
                let provIndex = Math.floor(newArr.length / 2);
                let prov = newArr[provIndex];
                newArr.splice(provIndex, 1);
                for (let i = 0; i < newArr.length; i++) {
                    if (newArr[i] <= prov) {
                        left.push(newArr[i]);
                    } else {
                        right.push(newArr[i]);
                    }
                }
                return this.quick(left).concat(prov, this.quick(right));
            }
            efSearch(ele) {
                this.quickSort();
                let left = 0;
                let right = this.arr.length-1;
                let middleIndex, middleEle;
                while (left <= right) {
                    middleIndex = Math.floor((left + right) / 2);
                    middleEle=this.arr[middleIndex];
                    if (ele > middleEle) {
                        left = middleIndex + 1;
                    } else if (ele < middleEle) {
                        right = middleIndex - 1;
                    } else {
                        return middleIndex;
                    }
                }
                return -1;
            }
            toString() {
                return this.arr.join(" ");
            }
        }
        var sortlist = new SortList();
        sortlist.insert(12);
        sortlist.insert(4);
        sortlist.insert(56);
        sortlist.insert(2);
        sortlist.insert(6);
        sortlist.insert(8);
        sortlist.insert(80);
        sortlist.insert(70);
        console.log(sortlist.efSearch("8000"));
        console.log(sortlist.toString());
    </script>
</body>

</html>